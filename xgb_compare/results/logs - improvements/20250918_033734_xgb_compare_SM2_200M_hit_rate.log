2025-09-18 03:37:34,883 - INFO - ================================================================================
2025-09-18 03:37:34,883 - INFO - XGBoost Comparison Framework
2025-09-18 03:37:34,883 - INFO - ================================================================================
2025-09-18 03:37:34,883 - INFO - Configuration:
2025-09-18 03:37:34,883 - INFO -   Target Symbol: @SM#C
2025-09-18 03:37:34,883 - INFO -   Date Range: 2015-01-01 to 2025-08-01
2025-09-18 03:37:34,883 - INFO -   Models: 200, Type: standard
2025-09-18 03:37:34,883 - INFO -   Folds: 15
2025-09-18 03:37:34,883 - INFO -   Max Features: 100 (Limited)
2025-09-18 03:37:34,883 - INFO -   Feature Selection: Enabled
2025-09-18 03:37:34,883 - INFO -   Inner Val Fraction: 0.2
2025-09-18 03:37:34,883 - INFO -   EWMA Alpha: 0.1, Quality Halflife: 63 days
2025-09-18 03:37:34,883 - INFO -   Signal Type: Binary (+1/-1)
2025-09-18 03:37:34,883 - INFO -   Cross-validation: Expanding window
2025-09-18 03:37:34,883 - INFO -   Production: Cutoff=0.6, Top N=10, Q-Metric=hit_rate
2025-09-18 03:37:34,883 - INFO -   Reselection: Every 1 fold(s)
2025-09-18 03:37:34,883 - INFO - 
2025-09-18 03:37:39,447 - INFO - Dropped 74 rows due to NaN in target column @SM#C_target_return
2025-09-18 03:37:39,544 - INFO - Loaded: X=(2661, 1906), y=(2661,)
2025-09-18 03:38:41,471 - INFO - Selected 100 features (threshold: 0.7)
2025-09-18 03:38:41,527 - INFO - Selected: 100 features
2025-09-18 03:38:41,559 - INFO - GPU detection: XGBoost not compiled with CUDA support - using CPU
2025-09-18 03:38:41,559 - INFO - Processing mode: CPU multiprocessing (GPU: False, Total models: 3000)
2025-09-18 03:38:41,564 - INFO - GPU detection: XGBoost not compiled with CUDA support - using CPU
2025-09-18 03:38:41,567 - INFO - Using expanding window
2025-09-18 03:38:41,567 - INFO - Starting analysis: 200 standard models x 13 folds
2025-09-18 03:38:41,568 - INFO - Processing Fold 1/13
2025-09-18 03:38:41,570 - INFO -   Using multiprocessing with 9 workers
2025-09-18 03:42:16,721 - INFO - Fold 1 Summary:
2025-09-18 03:42:16,722 - INFO -   Best OOS Sharpe: M19 (2.491, p=0.060)
2025-09-18 03:42:16,722 - INFO -   Best Q-Hit_Rate:  M45 (0.582, OOS_Sharpe=1.722, OOS_Hit=0.582)
2025-09-18 03:42:16,722 - INFO -   Mean OOS Sharpe: 0.267, Mean Hit: 0.525
2025-09-18 03:42:16,722 - INFO - 
2025-09-18 03:42:16,736 - INFO - Stored 200 trained models for production export
2025-09-18 03:42:16,736 - INFO - Processing Fold 2/13
2025-09-18 03:42:16,752 - INFO -   Using multiprocessing with 9 workers
2025-09-18 03:46:19,084 - INFO - Fold 2 Summary:
2025-09-18 03:46:19,087 - INFO -   Best OOS Sharpe: M175 (3.317, p=0.000)
2025-09-18 03:46:19,087 - INFO -   Best Q-Hit_Rate:  M45 (0.575, OOS_Sharpe=0.544, OOS_Hit=0.514)
2025-09-18 03:46:19,087 - INFO -   Mean OOS Sharpe: 0.459, Mean Hit: 0.519
2025-09-18 03:46:19,087 - INFO - 
2025-09-18 03:46:19,098 - INFO - Stored 200 trained models for production export
2025-09-18 03:46:19,099 - INFO - Processing Fold 3/13
2025-09-18 03:46:19,116 - INFO -   Using multiprocessing with 9 workers
2025-09-18 03:51:19,579 - INFO - Fold 3 Summary:
2025-09-18 03:51:19,583 - INFO -   Best OOS Sharpe: M154 (2.109, p=0.100)
2025-09-18 03:51:19,583 - INFO -   Best Q-Hit_Rate:  M45 (0.570, OOS_Sharpe=0.253, OOS_Hit=0.520)
2025-09-18 03:51:19,583 - INFO -   Mean OOS Sharpe: -0.810, Mean Hit: 0.479
2025-09-18 03:51:19,583 - INFO - 
2025-09-18 03:51:19,602 - INFO - Stored 200 trained models for production export
2025-09-18 03:51:19,602 - INFO - Processing Fold 4/13
2025-09-18 03:51:19,621 - INFO -   Using multiprocessing with 9 workers
2025-09-18 03:58:04,892 - INFO - Fold 4 Summary:
2025-09-18 03:58:04,897 - INFO -   Best OOS Sharpe: M57 (3.575, p=0.000)
2025-09-18 03:58:04,898 - INFO -   Best Q-Hit_Rate:  M45 (0.564, OOS_Sharpe=1.973, OOS_Hit=0.514)
2025-09-18 03:58:04,898 - INFO -   Mean OOS Sharpe: 1.234, Mean Hit: 0.516
2025-09-18 03:58:04,898 - INFO - 
2025-09-18 03:58:04,932 - INFO - Stored 200 trained models for production export
2025-09-18 03:58:04,933 - INFO - Processing Fold 5/13
2025-09-18 03:58:04,966 - INFO -   Using multiprocessing with 9 workers
2025-09-18 04:05:12,511 - INFO - Fold 5 Summary:
2025-09-18 04:05:12,518 - INFO -   Best OOS Sharpe: M192 (3.072, p=0.000)
2025-09-18 04:05:12,518 - INFO -   Best Q-Hit_Rate:  M45 (0.558, OOS_Sharpe=-0.341, OOS_Hit=0.503)
2025-09-18 04:05:12,518 - INFO -   Mean OOS Sharpe: 0.501, Mean Hit: 0.529
2025-09-18 04:05:12,518 - INFO - 
2025-09-18 04:05:12,571 - INFO - Stored 200 trained models for production export
2025-09-18 04:05:12,572 - INFO - Processing Fold 6/13
2025-09-18 04:05:12,611 - INFO -   Using multiprocessing with 9 workers
2025-09-18 04:12:00,422 - INFO - Fold 6 Summary:
2025-09-18 04:12:00,426 - INFO -   Best OOS Sharpe: M23 (4.353, p=0.000)
2025-09-18 04:12:00,426 - INFO -   Best Q-Hit_Rate:  M45 (0.558, OOS_Sharpe=2.747, OOS_Hit=0.559)
2025-09-18 04:12:00,426 - INFO -   Mean OOS Sharpe: 1.763, Mean Hit: 0.542
2025-09-18 04:12:00,426 - INFO - 
2025-09-18 04:12:00,473 - INFO - Stored 200 trained models for production export
2025-09-18 04:12:00,473 - INFO - Processing Fold 7/13
2025-09-18 04:12:00,510 - INFO -   Using multiprocessing with 9 workers
2025-09-18 04:18:55,423 - INFO - Fold 7 Summary:
2025-09-18 04:18:55,428 - INFO -   Best OOS Sharpe: M196 (4.068, p=0.000)
2025-09-18 04:18:55,428 - INFO -   Best Q-Hit_Rate:  M45 (0.555, OOS_Sharpe=1.330, OOS_Hit=0.525)
2025-09-18 04:18:55,428 - INFO -   Mean OOS Sharpe: 1.484, Mean Hit: 0.520
2025-09-18 04:18:55,428 - INFO - 
2025-09-18 04:18:55,472 - INFO - Stored 200 trained models for production export
2025-09-18 04:18:55,472 - INFO - Processing Fold 8/13
2025-09-18 04:18:55,509 - INFO -   Using multiprocessing with 9 workers
2025-09-18 04:26:18,420 - INFO - Fold 8 Summary:
2025-09-18 04:26:18,427 - INFO -   Best OOS Sharpe: M178 (4.521, p=0.000)
2025-09-18 04:26:18,427 - INFO -   Best Q-Hit_Rate:  M80 (0.555, OOS_Sharpe=2.775, OOS_Hit=0.576)
2025-09-18 04:26:18,427 - INFO -   Mean OOS Sharpe: 2.109, Mean Hit: 0.527
2025-09-18 04:26:18,427 - INFO - 
2025-09-18 04:26:18,479 - INFO - Stored 200 trained models for production export
2025-09-18 04:26:18,480 - INFO - Processing Fold 9/13
2025-09-18 04:26:18,515 - INFO -   Using multiprocessing with 9 workers
2025-09-18 04:34:01,615 - INFO - Fold 9 Summary:
2025-09-18 04:34:01,623 - INFO -   Best OOS Sharpe: M43 (3.937, p=0.000)
2025-09-18 04:34:01,623 - INFO -   Best Q-Hit_Rate:  M45 (0.556, OOS_Sharpe=1.237, OOS_Hit=0.576)
2025-09-18 04:34:01,623 - INFO -   Mean OOS Sharpe: 1.378, Mean Hit: 0.544
2025-09-18 04:34:01,623 - INFO - 
2025-09-18 04:34:01,678 - INFO - Stored 200 trained models for production export
2025-09-18 04:34:01,678 - INFO - Processing Fold 10/13
2025-09-18 04:34:01,712 - INFO -   Using multiprocessing with 9 workers
2025-09-18 04:41:58,660 - INFO - Fold 10 Summary:
2025-09-18 04:41:58,671 - INFO -   Best OOS Sharpe: M120 (3.884, p=0.020)
2025-09-18 04:41:58,671 - INFO -   Best Q-Hit_Rate:  M45 (0.557, OOS_Sharpe=1.891, OOS_Hit=0.559)
2025-09-18 04:41:58,671 - INFO -   Mean OOS Sharpe: 1.079, Mean Hit: 0.544
2025-09-18 04:41:58,671 - INFO - 
2025-09-18 04:41:58,754 - INFO - Stored 200 trained models for production export
2025-09-18 04:41:58,754 - INFO - Processing Fold 11/13
2025-09-18 04:41:58,811 - INFO -   Using multiprocessing with 9 workers
2025-09-18 04:50:46,830 - INFO - Fold 11 Summary:
2025-09-18 04:50:46,843 - INFO -   Best OOS Sharpe: M136 (2.600, p=0.020)
2025-09-18 04:50:46,843 - INFO -   Best Q-Hit_Rate:  M34 (0.556, OOS_Sharpe=1.495, OOS_Hit=0.565)
2025-09-18 04:50:46,843 - INFO -   Mean OOS Sharpe: 0.392, Mean Hit: 0.514
2025-09-18 04:50:46,843 - INFO - 
2025-09-18 04:50:46,899 - INFO - Stored 200 trained models for production export
2025-09-18 04:50:46,900 - INFO - Processing Fold 12/13
2025-09-18 04:50:46,940 - INFO -   Using multiprocessing with 9 workers
2025-09-18 04:57:53,366 - INFO - Fold 12 Summary:
2025-09-18 04:57:53,372 - INFO -   Best OOS Sharpe: M131 (3.872, p=0.000)
2025-09-18 04:57:53,372 - INFO -   Best Q-Hit_Rate:  M34 (0.550, OOS_Sharpe=1.189, OOS_Hit=0.492)
2025-09-18 04:57:53,372 - INFO -   Mean OOS Sharpe: 1.186, Mean Hit: 0.501
2025-09-18 04:57:53,372 - INFO - 
2025-09-18 04:57:53,423 - INFO - Stored 200 trained models for production export
2025-09-18 04:57:53,424 - INFO - Processing Fold 13/13
2025-09-18 04:57:53,465 - INFO -   Using multiprocessing with 9 workers
2025-09-18 05:02:16,060 - INFO - Fold 13 Summary:
2025-09-18 05:02:16,065 - INFO -   Best OOS Sharpe: M53 (2.987, p=0.000)
2025-09-18 05:02:16,065 - INFO -   Best Q-Hit_Rate:  M34 (0.551, OOS_Sharpe=2.474, OOS_Hit=0.563)
2025-09-18 05:02:16,065 - INFO -   Mean OOS Sharpe: 0.530, Mean Hit: 0.501
2025-09-18 05:02:16,065 - INFO - 
2025-09-18 05:02:16,117 - INFO - Stored 200 trained models for production export
2025-09-18 05:02:16,118 - INFO - Starting full timeline backtesting...
2025-09-18 05:02:16,121 - INFO - Running full timeline backtest with 13 folds (0-based indexing)
2025-09-18 05:02:16,122 - INFO - Fold 0 skipped (no prior Q-score history for meaningful selection)
2025-09-18 05:02:16,122 - INFO - Effective backtest period: Folds 1-12 (12 folds)
2025-09-18 05:02:16,122 - INFO - Training period: Folds 1-7
2025-09-18 05:02:16,122 - INFO - Production period: Folds 8-12
2025-09-18 05:02:16,122 - INFO - Using consistent OOS methodology for all folds
2025-09-18 05:02:16,123 - INFO - Fold 0: Skipped (no prior Q-score history for meaningful selection)
2025-09-18 05:02:16,124 - INFO - 
--- Processing fold 1/12 ---
2025-09-18 05:02:16,415 - INFO - Fold 1: Q-scores from fold 0: ['M00:0.537', 'M01:0.463', 'M02:0.469', 'M03:0.508', 'M04:0.520']...
2025-09-18 05:02:16,418 - INFO - Fold 1: Selected models [45, 141, 80, 180, 133, 66, 102, 132, 21, 99] based on fold 0 Q-scores, avg Q-score: 0.570
2025-09-18 05:02:16,479 - INFO - Fold 1 (Training): Sharpe=0.584, Hit=53.9%
2025-09-18 05:02:16,480 - INFO - 
--- Processing fold 2/12 ---
2025-09-18 05:02:16,588 - INFO - Fold 2: Q-scores from fold 1: ['M00:0.543', 'M01:0.466', 'M02:0.472', 'M03:0.508', 'M04:0.523']...
2025-09-18 05:02:16,595 - INFO - Fold 2: Selected models [45, 141, 80, 180, 102, 133, 21, 117, 126, 132] based on fold 1 Q-scores, avg Q-score: 0.565
2025-09-18 05:02:16,611 - INFO - Fold 2 (Training): Sharpe=-2.035, Hit=45.1%
2025-09-18 05:02:16,612 - INFO - 
--- Processing fold 3/12 ---
2025-09-18 05:02:16,708 - INFO - Fold 3: Q-scores from fold 2: ['M00:0.537', 'M01:0.465', 'M02:0.466', 'M03:0.511', 'M04:0.517']...
2025-09-18 05:02:16,708 - INFO - Fold 3: Selected models [45, 141, 80, 180, 102, 126, 21, 121, 164, 99] based on fold 2 Q-scores, avg Q-score: 0.556
2025-09-18 05:02:16,727 - INFO - Fold 3 (Training): Sharpe=1.520, Hit=52.8%
2025-09-18 05:02:16,728 - INFO - 
--- Processing fold 4/12 ---
2025-09-18 05:02:16,834 - INFO - Fold 4: Q-scores from fold 3: ['M00:0.533', 'M01:0.467', 'M02:0.476', 'M03:0.511', 'M04:0.519']...
2025-09-18 05:02:16,834 - INFO - Fold 4: Selected models [45, 80, 126, 180, 121, 164, 141, 179, 197, 21] based on fold 3 Q-scores, avg Q-score: 0.553
2025-09-18 05:02:16,848 - INFO - Fold 4 (Training): Sharpe=0.611, Hit=54.5%
2025-09-18 05:02:16,848 - INFO - 
--- Processing fold 5/12 ---
2025-09-18 05:02:16,905 - INFO - Fold 5: Q-scores from fold 4: ['M00:0.527', 'M01:0.474', 'M02:0.478', 'M03:0.517', 'M04:0.514']...
2025-09-18 05:02:16,905 - INFO - Fold 5: Selected models [45, 126, 80, 141, 164, 121, 42, 197, 180, 21] based on fold 4 Q-scores, avg Q-score: 0.552
2025-09-18 05:02:16,921 - INFO - Fold 5 (Training): Sharpe=3.912, Hit=56.9%
2025-09-18 05:02:16,921 - INFO - 
--- Processing fold 6/12 ---
2025-09-18 05:02:16,975 - INFO - Fold 6: Q-scores from fold 5: ['M00:0.529', 'M01:0.475', 'M02:0.481', 'M03:0.517', 'M04:0.515']...
2025-09-18 05:02:16,976 - INFO - Fold 6: Selected models [45, 80, 34, 121, 42, 126, 180, 66, 164, 51] based on fold 5 Q-scores, avg Q-score: 0.551
2025-09-18 05:02:16,991 - INFO - Fold 6 (Training): Sharpe=2.539, Hit=56.6%
2025-09-18 05:02:16,991 - INFO - 
--- Processing fold 7/12 ---
2025-09-18 05:02:17,059 - INFO - Fold 7: Q-scores from fold 6: ['M00:0.528', 'M01:0.479', 'M02:0.481', 'M03:0.517', 'M04:0.515']...
2025-09-18 05:02:17,059 - INFO - Fold 7: Selected models [45, 80, 42, 34, 21, 121, 66, 51, 126, 180] based on fold 6 Q-scores, avg Q-score: 0.549
2025-09-18 05:02:17,075 - INFO - Fold 7 (Training): Sharpe=2.844, Hit=55.4%
2025-09-18 05:02:17,075 - INFO - 
--- Processing fold 8/12 ---
2025-09-18 05:02:17,135 - INFO - Fold 8: Q-scores from fold 7: ['M00:0.526', 'M01:0.483', 'M02:0.482', 'M03:0.520', 'M04:0.516']...
2025-09-18 05:02:17,135 - INFO - Fold 8: Selected models [80, 45, 34, 42, 66, 121, 178, 21, 197, 51] based on fold 7 Q-scores, avg Q-score: 0.549
2025-09-18 05:02:17,148 - INFO - Fold 8 (Production): Sharpe=1.377, Hit=56.4%
2025-09-18 05:02:17,148 - INFO - 
--- Processing fold 9/12 ---
2025-09-18 05:02:17,184 - INFO - Fold 9: Q-scores from fold 8: ['M00:0.522', 'M01:0.487', 'M02:0.492', 'M03:0.521', 'M04:0.514']...
2025-09-18 05:02:17,185 - INFO - Fold 9: Selected models [45, 80, 34, 124, 42, 178, 66, 121, 20, 126] based on fold 8 Q-scores, avg Q-score: 0.550
2025-09-18 05:02:17,196 - INFO - Fold 9 (Production): Sharpe=2.209, Hit=59.1%
2025-09-18 05:02:17,196 - INFO - 
--- Processing fold 10/12 ---
2025-09-18 05:02:17,334 - INFO - Fold 10: Q-scores from fold 9: ['M00:0.520', 'M01:0.487', 'M02:0.496', 'M03:0.523', 'M04:0.514']...
2025-09-18 05:02:17,334 - INFO - Fold 10: Selected models [45, 34, 197, 42, 124, 80, 103, 121, 66, 20] based on fold 9 Q-scores, avg Q-score: 0.551
2025-09-18 05:02:17,348 - INFO - Fold 10 (Production): Sharpe=0.176, Hit=51.8%
2025-09-18 05:02:17,348 - INFO - 
--- Processing fold 11/12 ---
2025-09-18 05:02:17,403 - INFO - Fold 11: Q-scores from fold 10: ['M00:0.519', 'M01:0.490', 'M02:0.501', 'M03:0.518', 'M04:0.514']...
2025-09-18 05:02:17,403 - INFO - Fold 11: Selected models [34, 45, 103, 42, 197, 124, 178, 121, 126, 93] based on fold 10 Q-scores, avg Q-score: 0.548
2025-09-18 05:02:17,419 - INFO - Fold 11 (Production): Sharpe=0.582, Hit=47.0%
2025-09-18 05:02:17,419 - INFO - 
--- Processing fold 12/12 ---
2025-09-18 05:02:17,557 - INFO - Fold 12: Q-scores from fold 11: ['M00:0.519', 'M01:0.489', 'M02:0.499', 'M03:0.514', 'M04:0.521']...
2025-09-18 05:02:17,557 - INFO - Fold 12: Selected models [34, 42, 178, 197, 126, 103, 45, 117, 51, 62] based on fold 11 Q-scores, avg Q-score: 0.543
2025-09-18 05:02:17,561 - INFO - Fold 12 (Production): Sharpe=0.874, Hit=49.1%
2025-09-18 05:02:17,562 - INFO - Training Period Overall: Sharpe=1.651, Hit=53.6%
2025-09-18 05:02:17,563 - INFO - Production Period Overall: Sharpe=1.010, Hit=52.6%
2025-09-18 05:02:17,565 - INFO - Full Timeline Overall: Sharpe=1.416, Hit=53.2%
2025-09-18 05:02:17,566 - INFO - Training: Sharpe=1.651 | Hit=53.6% | Return=83.76%
2025-09-18 05:02:17,566 - INFO - Production: Sharpe=1.010 | Hit=52.6% | Return=35.74%
2025-09-18 05:02:17,566 - INFO - Full Timeline: Sharpe=1.416 | Hit=53.2% | Return=63.67%
2025-09-18 05:02:17,566 - INFO - Generating visualizations...
2025-09-18 05:02:17,567 - INFO - Creating clean visualizations for 200 models...
2025-09-18 05:02:22,456 - INFO - Clean fold-by-fold analysis saved to: 20250918_033734_fold_@SM#C_200models_15folds_SM2_200M_hit_rate.png
2025-09-18 05:02:29,126 - INFO - Detailed production analysis saved to: 20250918_033734_backtest_@SM#C_200models_15folds_SM2_200M_hit_rate.png
2025-09-18 05:02:29,130 - INFO - ================================================================================
2025-09-18 05:02:29,130 - INFO - BACKTEST SUMMARY
2025-09-18 05:02:29,130 - INFO - ================================================================================
2025-09-18 05:02:29,130 - INFO - Config: Cutoff=70%, Top N=5, Q-Metric=sharpe, Reselection=1 fold(s)
2025-09-18 05:02:29,130 - INFO - Model Selection History:
2025-09-18 05:02:29,131 - INFO -   Fold 1: M45, M141, M80, M180, M133, M66, M102, M132, M21, M99 (Avg Q-sharpe: 0.570)
2025-09-18 05:02:29,131 - INFO -   Fold 2: M45, M141, M80, M180, M102, M133, M21, M117, M126, M132 (Avg Q-sharpe: 0.565)
2025-09-18 05:02:29,131 - INFO -   Fold 3: M45, M141, M80, M180, M102, M126, M21, M121, M164, M99 (Avg Q-sharpe: 0.556)
2025-09-18 05:02:29,131 - INFO -   Fold 4: M45, M80, M126, M180, M121, M164, M141, M179, M197, M21 (Avg Q-sharpe: 0.553)
2025-09-18 05:02:29,131 - INFO -   Fold 5: M45, M126, M80, M141, M164, M121, M42, M197, M180, M21 (Avg Q-sharpe: 0.552)
2025-09-18 05:02:29,131 - INFO -   Fold 6: M45, M80, M34, M121, M42, M126, M180, M66, M164, M51 (Avg Q-sharpe: 0.551)
2025-09-18 05:02:29,131 - INFO -   Fold 7: M45, M80, M42, M34, M21, M121, M66, M51, M126, M180 (Avg Q-sharpe: 0.549)
2025-09-18 05:02:29,131 - INFO -   Fold 8: M80, M45, M34, M42, M66, M121, M178, M21, M197, M51 (Avg Q-sharpe: 0.549)
2025-09-18 05:02:29,131 - INFO -   Fold 9: M45, M80, M34, M124, M42, M178, M66, M121, M20, M126 (Avg Q-sharpe: 0.550)
2025-09-18 05:02:29,131 - INFO -   Fold 10: M45, M34, M197, M42, M124, M80, M103, M121, M66, M20 (Avg Q-sharpe: 0.551)
2025-09-18 05:02:29,131 - INFO -   Fold 11: M34, M45, M103, M42, M197, M124, M178, M121, M126, M93 (Avg Q-sharpe: 0.548)
2025-09-18 05:02:29,131 - INFO -   Fold 12: M34, M42, M178, M197, M126, M103, M45, M117, M51, M62 (Avg Q-sharpe: 0.543)
2025-09-18 05:02:29,131 - INFO - 
2025-09-18 05:02:29,131 - INFO - Fold-by-Fold Performance:
2025-09-18 05:02:29,132 - INFO -   Fold 1: M45, M141, M80, M180, M133, M66, M102, M132, M21, M99 | Sharpe=0.584 | Hit=53.9% | Samples=177
2025-09-18 05:02:29,132 - INFO -   Fold 2: M45, M141, M80, M180, M102, M133, M21, M117, M126, M132 | Sharpe=-2.035 | Hit=45.1% | Samples=177
2025-09-18 05:02:29,132 - INFO -   Fold 3: M45, M141, M80, M180, M102, M126, M21, M121, M164, M99 | Sharpe=1.520 | Hit=52.8% | Samples=177
2025-09-18 05:02:29,132 - INFO -   Fold 4: M45, M80, M126, M180, M121, M164, M141, M179, M197, M21 | Sharpe=0.611 | Hit=54.5% | Samples=177
2025-09-18 05:02:29,132 - INFO -   Fold 5: M45, M126, M80, M141, M164, M121, M42, M197, M180, M21 | Sharpe=3.912 | Hit=56.9% | Samples=177
2025-09-18 05:02:29,132 - INFO -   Fold 6: M45, M80, M34, M121, M42, M126, M180, M66, M164, M51 | Sharpe=2.539 | Hit=56.6% | Samples=177
2025-09-18 05:02:29,132 - INFO -   Fold 7: M45, M80, M42, M34, M21, M121, M66, M51, M126, M180 | Sharpe=2.844 | Hit=55.4% | Samples=177
2025-09-18 05:02:29,132 - INFO -   Fold 8: M80, M45, M34, M42, M66, M121, M178, M21, M197, M51 | Sharpe=1.377 | Hit=56.4% | Samples=177
2025-09-18 05:02:29,132 - INFO -   Fold 9: M45, M80, M34, M124, M42, M178, M66, M121, M20, M126 | Sharpe=2.209 | Hit=59.1% | Samples=177
2025-09-18 05:02:29,132 - INFO -   Fold 10: M45, M34, M197, M42, M124, M80, M103, M121, M66, M20 | Sharpe=0.176 | Hit=51.8% | Samples=177
2025-09-18 05:02:29,132 - INFO -   Fold 11: M34, M45, M103, M42, M197, M124, M178, M121, M126, M93 | Sharpe=0.582 | Hit=47.0% | Samples=177
2025-09-18 05:02:29,132 - INFO -   Fold 12: M34, M42, M178, M197, M126, M103, M45, M117, M51, M62 | Sharpe=0.874 | Hit=49.1% | Samples=183
2025-09-18 05:02:29,132 - INFO - ================================================================================
2025-09-18 05:02:29,132 - INFO - ================================================================================
2025-09-18 05:02:29,132 - INFO - ANALYSIS COMPLETED SUCCESSFULLY!
2025-09-18 05:02:29,132 - INFO - ================================================================================
2025-09-18 05:02:29,132 - INFO - Generated 2 visualization files
2025-09-18 05:02:29,132 - INFO -   - 20250918_033734_fold_@SM#C_200models_15folds_SM2_200M_hit_rate.png
2025-09-18 05:02:29,132 - INFO -   - 20250918_033734_backtest_@SM#C_200models_15folds_SM2_200M_hit_rate.png
2025-09-18 05:02:29,132 - INFO - Training Final: Sharpe=1.651 | Hit=53.6% | Return=83.76% | CB=0.790
2025-09-18 05:02:29,132 - INFO - Production Final: Sharpe=1.010 | Hit=52.6% | Return=35.74% | CB=1.122
2025-09-18 05:02:29,132 - INFO - Full Timeline Final: Sharpe=1.416 | Hit=53.2% | Return=63.67% | CB=0.601
2025-09-18 05:02:29,132 - INFO - ============================================================
2025-09-18 05:02:29,132 - INFO - EXPORTING PRODUCTION MODELS (Consolidated File)
2025-09-18 05:02:29,133 - INFO - ============================================================
2025-09-18 05:02:29,133 - INFO - Backtest results keys: ['full_timeline_metrics', 'training_metrics', 'production_metrics', 'model_selection_history', 'fold_results', 'full_timeline_returns', 'training_returns', 'production_returns', 'full_timeline_predictions', 'full_timeline_dates', 'cutoff_fold', 'training_folds', 'production_folds']
2025-09-18 05:02:29,133 - INFO - Model selection history length: 12
2025-09-18 05:02:29,133 - INFO - Final selection keys: ['fold', 'selection_based_on_fold', 'selected_models', 'avg_q_score', 'period_type']
2025-09-18 05:02:29,133 - INFO - Final fold selected models: [34, 42, 178, 197, 126, 103, 45, 117, 51, 62]
2025-09-18 05:02:29,133 - INFO - All fold results type: <class 'dict'>
2025-09-18 05:02:29,133 - INFO - All fold results keys/length: ['fold_1', 'fold_2', 'fold_3', 'fold_4', 'fold_5', 'fold_6', 'fold_7', 'fold_8', 'fold_9', 'fold_10', 'fold_11', 'fold_12', 'fold_13']
2025-09-18 05:02:29,133 - INFO - Available fold indices: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]
2025-09-18 05:02:29,133 - INFO - Using fold index 11 (key: fold_12) as production fold
2025-09-18 05:02:29,133 - INFO - Final fold keys: ['results_df', 'model_metrics', 'oos_predictions', 'test_idx', 'trained_models', 'model_specs']
2025-09-18 05:02:29,133 - INFO - Trained models available: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199]
2025-09-18 05:02:29,133 - INFO - Added model M34 -> model_01 with all 100 features (framework standard)
2025-09-18 05:02:29,133 - INFO - Added model M42 -> model_02 with all 100 features (framework standard)
2025-09-18 05:02:29,133 - INFO - Added model M178 -> model_03 with all 100 features (framework standard)
2025-09-18 05:02:29,133 - INFO - Added model M197 -> model_04 with all 100 features (framework standard)
2025-09-18 05:02:29,133 - INFO - Added model M126 -> model_05 with all 100 features (framework standard)
2025-09-18 05:02:29,133 - INFO - Added model M103 -> model_06 with all 100 features (framework standard)
2025-09-18 05:02:29,133 - INFO - Added model M45 -> model_07 with all 100 features (framework standard)
2025-09-18 05:02:29,133 - INFO - Added model M117 -> model_08 with all 100 features (framework standard)
2025-09-18 05:02:29,133 - INFO - Added model M51 -> model_09 with all 100 features (framework standard)
2025-09-18 05:02:29,133 - INFO - Added model M62 -> model_10 with all 100 features (framework standard)
2025-09-18 05:02:29,133 - INFO - Extracted 10 selected models
2025-09-18 05:02:29,185 - INFO - SUCCESS: Exported 10 selected models to /Users/steven/Projects/SQ/bond_ls_xgb_grope_full_v6/PROD/models/@SM#C_20250918_033734.pkl
2025-09-18 05:02:29,185 - INFO - File size: 2,780,463 bytes
2025-09-18 05:02:29,185 - INFO - Selected features: 100 features
2025-09-18 05:02:29,185 - INFO - Selected models: [34, 42, 178, 197, 126, 103, 45, 117, 51, 62]
2025-09-18 05:02:29,185 - INFO - ============================================================
2025-09-18 05:02:29,185 - INFO - EXPORTING SIGNAL DISTRIBUTION
2025-09-18 05:02:29,185 - INFO - ============================================================
2025-09-18 05:02:29,185 - INFO - Timeline data: 2130 points
2025-09-18 05:02:29,238 - INFO - SUCCESS: Exported signal distribution to /Users/steven/Projects/SQ/bond_ls_xgb_grope_full_v6/xgb_compare/results/20250918_033734_signal_distribution_SM2_200M_hit_rate.csv
2025-09-18 05:02:29,239 - INFO - Records: 2,130
2025-09-18 05:02:29,240 - INFO - Date range: 2017-02-10 12:00:00 to 2025-07-30 12:00:00
2025-09-18 05:02:29,241 - INFO - Signal directions: {1: 1022, -1: 950, 0: 158}
2025-09-18 05:02:29,242 - INFO - Signal range: -1.000000 to 1.000000
2025-09-18 05:02:29,242 - INFO - Hit rate: 0.434
2025-09-18 05:02:29,242 - INFO - Total PnL: 2.377744
